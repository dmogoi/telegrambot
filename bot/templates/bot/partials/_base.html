{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>{% block title %}Bot Dashboard{% endblock %}</title>

    <!-- SB Admin 2 CSS -->
    <link href="{% static 'bot/vendor/fontawesome-free/css/all.min.css' %}" rel="stylesheet">
    <link href="{% static 'bot/css/sb-admin-2.min.css' %}" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@easepick/bundle@1.2.0/dist/index.umd.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <!-- In your base.html -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.0/dist/chart.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.29.1/moment.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-moment@1.0.0/dist/chartjs-adapter-moment.min.js"></script>
    {% block extra_css %}{% endblock %}
</head>

<body id="page-top">
    <div id="wrapper">
        {% include 'bot/partials/_sidebar.html' %}

        <div id="content-wrapper" class="d-flex flex-column">
            <div id="content">
                {% include 'bot/partials/_topbar.html' %}

                <div class="container-fluid">
                    {% block content %}{% endblock %}
                </div>
            </div>

            <footer class="sticky-footer bg-white">
                <div class="container my-auto">
                    <div class="copyright text-center my-auto">
                        <span>Copyright &copy; Powered by IgenCoders {% now "Y" %}</span>
                    </div>
                </div>
            </footer>
        </div>
    </div>

    <!-- Core Scripts -->
    <script src="{% static 'bot/vendor/jquery/jquery.min.js' %}"></script>
    <script src="{% static 'bot/vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'bot/vendor/jquery-easing/jquery.easing.min.js' %}"></script>
    <script src="{% static 'bot/js/sb-admin-2.min.js' %}"></script>
    {% block extra_js %}{% endblock %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Initialize theme
    const savedTheme = localStorage.getItem('theme') || 'light';
    document.documentElement.setAttribute('data-bs-theme', savedTheme);

    // Initialize Bootstrap dropdowns
    const dropdowns = document.querySelectorAll('.dropdown-toggle');
    dropdowns.forEach(toggle => {
        toggle.addEventListener('click', function() {
            const dropdown = this.nextElementSibling;
            dropdown.classList.toggle('show');
        });
    });
});

function toggleTheme() {
    const html = document.documentElement;
    const isDark = html.getAttribute('data-bs-theme') === 'dark';
    html.setAttribute('data-bs-theme', isDark ? 'light' : 'dark');
    localStorage.setItem('theme', isDark ? 'light' : 'dark');
}
</script>
</body>
</html>